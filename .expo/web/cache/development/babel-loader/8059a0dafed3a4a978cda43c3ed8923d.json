{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"E:\\\\React_mobile_brand\\\\CDTN-2\\\\src\\\\screens\\\\User\\\\Ordered.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport HeaderTitle from \"../../components/HeaderTitle\";\nimport ProductOrdered from \"../../components/ProductOrdered\";\nimport MaterialIcons from \"@expo/vector-icons/MaterialIcons\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getAllOder } from \"../../redux/actions/oderActions\";\nimport { getUserInfo } from \"../../redux/actions/userActions\";\nimport RNPickerSelect from 'react-native-picker-select';\nvar check = true;\nexport default function Ordered(props) {\n  var _this = this;\n\n  var navigation = props.navigation,\n      route = props.route;\n  var orderState = useSelector(function (state) {\n    return state.oderReducer;\n  });\n  var oderList = orderState.oderList;\n  var userState = useSelector(function (state) {\n    return state.userReducer;\n  });\n  var userInfor = userState.userInfor;\n  var dispatch = useDispatch();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      _oderList = _useState4[0],\n      setOderList = _useState4[1];\n\n  useEffect(function () {\n    dispatch(getUserInfo());\n  }, []);\n  useEffect(function () {\n    setOderList(oderList);\n  }, [orderState]);\n\n  if (check) {\n    if (userInfor) {\n      if (!oderList) {\n        dispatch(getAllOder(userInfor.user_id));\n        check = true;\n      }\n\n      check = false;\n    } else {\n      check = true;\n    }\n  } else {\n    check = true;\n  }\n\n  var filterStatus = function filterStatus(data) {\n    if (oderList) {\n      if (data != -1) {\n        var __oderList = oderList.filter(function (item) {\n          return item.status === data;\n        });\n\n        setOderList(__oderList);\n      } else {\n        setOderList(oderList);\n      }\n    }\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, React.createElement(HeaderTitle, {\n    title: \"\\u0110\\u01A1n h\\xE0ng\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }), React.createElement(View, {\n    style: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, React.createElement(TouchableOpacity, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, React.createElement(MaterialIcons, {\n    name: \"arrow-back\",\n    size: 35,\n    color: \"white\",\n    onPress: function onPress() {\n      return navigation.goBack();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }))), React.createElement(View, {\n    style: {\n      padding: 10,\n      backgroundColor: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, React.createElement(RNPickerSelect, {\n    placeholder: {\n      label: \"Filter\",\n      value: -1\n    },\n    style: _objectSpread(_objectSpread({}, pickerSelectStyles), {}, {\n      placeholder: {\n        color: '#555'\n      }\n    }),\n    onValueChange: function onValueChange(data) {\n      return filterStatus(data);\n    },\n    items: [{\n      label: 'Đang sử lý',\n      value: 1\n    }, {\n      label: 'Đã nhận',\n      value: 2\n    }, {\n      label: 'Đã hủy',\n      value: 0\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  })), !_oderList ? React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 22\n    }\n  }, React.createElement(ActivityIndicator, {\n    size: \"large\",\n    color: \"#00ff00\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  })) : React.createElement(ScrollView, {\n    style: {\n      flex: 1,\n      marginTop: 5\n    },\n    showsVerticalScrollIndicator: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }, _oderList && _oderList.map(function (oder, index) {\n    console.log(oder.status);\n    return React.createElement(View, {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 41\n      }\n    }, React.createElement(ProductOrdered, {\n      oder: oder,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 45\n      }\n    }));\n  })));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#E5E5E5'\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    padding: 5,\n    position: 'absolute',\n    top: 33,\n    left: 5,\n    right: 0,\n    zIndex: 2\n  }\n});\nvar pickerSelectStyles = StyleSheet.create({\n  inputIOS: {\n    fontSize: 20,\n    borderRadius: 30,\n    color: 'black',\n    padding: 20\n  },\n  inputAndroid: {\n    fontSize: 20,\n    borderRadius: 30,\n    color: 'black',\n    padding: 20\n  }\n});","map":{"version":3,"sources":["E:/React_mobile_brand/CDTN-2/src/screens/User/Ordered.tsx"],"names":["React","useEffect","useState","HeaderTitle","ProductOrdered","MaterialIcons","useDispatch","useSelector","getAllOder","getUserInfo","RNPickerSelect","check","Ordered","props","navigation","route","orderState","state","oderReducer","oderList","userState","userReducer","userInfor","dispatch","isLoading","setIsLoading","_oderList","setOderList","user_id","filterStatus","data","__oderList","filter","item","status","styles","container","header","goBack","padding","backgroundColor","label","value","pickerSelectStyles","placeholder","color","flex","marginTop","map","oder","index","console","log","StyleSheet","create","flexDirection","justifyContent","position","top","left","right","zIndex","inputIOS","fontSize","borderRadius","inputAndroid"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { View, StyleSheet, ScrollView, TouchableOpacity, ActivityIndicator, Text } from 'react-native';\r\nimport HeaderTitle from '../../components/HeaderTitle';\r\nimport ProductOrdered from '../../components/ProductOrdered';\r\nimport MaterialIcons from 'react-native-vector-icons/MaterialIcons';\r\nimport { OderItemModel, OderModel, State } from '../../redux';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getAllOder } from '../../redux/actions/oderActions';\r\nimport { getUserInfo } from '../../redux/actions/userActions';\r\nimport RNPickerSelect from 'react-native-picker-select';\r\n\r\nlet check = true;\r\n\r\nexport default function Ordered(props: any) {\r\n    const { navigation, route } = props;\r\n    const orderState = useSelector((state: State) => state.oderReducer);\r\n    const { oderList } = orderState;\r\n    const userState = useSelector((state: State) => state.userReducer);\r\n    const { userInfor } = userState;\r\n    const dispatch = useDispatch();\r\n    const [isLoading, setIsLoading] = useState<boolean>(false);\r\n    let [_oderList, setOderList] = useState<Array<any>>();\r\n\r\n    useEffect(() => {\r\n        dispatch(getUserInfo());\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        setOderList(oderList);\r\n    }, [orderState]);\r\n\r\n    if (check) {\r\n        if (userInfor) {\r\n            if (!oderList) {\r\n                dispatch(getAllOder(userInfor.user_id));\r\n                check = true;\r\n            }\r\n            check = false;\r\n        } else {\r\n            check = true;\r\n        }\r\n    } else {\r\n        check = true;\r\n    }\r\n\r\n\r\n    const filterStatus = (data: number) => {\r\n        if (oderList) {\r\n            if (data != -1 ) {\r\n                let __oderList = oderList.filter((item: any) => item.status === data);\r\n                setOderList(__oderList);\r\n            }else{\r\n                setOderList(oderList);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <HeaderTitle title=\"Đơn hàng\" />\r\n            <View style={styles.header}>\r\n                <TouchableOpacity>\r\n                    <MaterialIcons name=\"arrow-back\" size={35} color=\"white\" onPress={() => navigation.goBack()} />\r\n                </TouchableOpacity>\r\n            </View>\r\n            <View style={{ padding: 10, backgroundColor: 'white' }}>\r\n                <RNPickerSelect\r\n                    placeholder={{ label: \"Filter\", value: -1 }}\r\n                    style={{ ...pickerSelectStyles, placeholder: { color: '#555' } }}\r\n                    onValueChange={(data) => filterStatus(data)}\r\n                    items={[\r\n                        { label: 'Đang sử lý', value: 1 },\r\n                        { label: 'Đã nhận', value: 2 },\r\n                        { label: 'Đã hủy', value: 0 },\r\n                    ]}\r\n                />\r\n            </View>\r\n            {\r\n                !_oderList ?\r\n                    (<View style={styles.container}>\r\n                        <ActivityIndicator size=\"large\" color=\"#00ff00\" />\r\n                    </View>) :\r\n                    (\r\n                        <ScrollView style={{ flex: 1, marginTop: 5 }} showsVerticalScrollIndicator={false}>\r\n                            {\r\n                                _oderList && _oderList.map((oder: OderModel, index: number) => {\r\n                                    console.log(oder.status);\r\n                                    return (\r\n                                        <View key={index}>\r\n                                            <ProductOrdered oder={oder} />\r\n                                        </View>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </ScrollView>\r\n                    )\r\n            }\r\n        </View>\r\n    )\r\n}\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: '#E5E5E5',\r\n    },\r\n    header: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        padding: 5,\r\n        position: 'absolute',\r\n        top: 33,\r\n        left: 5,\r\n        right: 0,\r\n        zIndex: 2\r\n    },\r\n\r\n});\r\n\r\nconst pickerSelectStyles = StyleSheet.create({\r\n    inputIOS: {\r\n        fontSize: 20,\r\n        borderRadius: 30,\r\n        color: 'black',\r\n        padding: 20,\r\n\r\n    },\r\n    inputAndroid: {\r\n        fontSize: 20,\r\n        borderRadius: 30,\r\n        color: 'black',\r\n        padding: 20\r\n    },\r\n\r\n});"]},"metadata":{},"sourceType":"module"}