{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"E:\\\\React_mobile_brand\\\\CDTN-2\\\\src\\\\screens\\\\Complaint.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addComplaint } from \"../redux/actions/complaintActions\";\nimport HeaderTitle from \"./../components/HeaderTitle\";\nimport MaterialIcons from \"@expo/vector-icons/MaterialIcons\";\nvar check = false;\nexport default function Complaint(props) {\n  var navigation = props.navigation,\n      route = props.route;\n  var getParam = navigation.getParam,\n      goBack = navigation.goBack;\n  var id = getParam('id');\n\n  var _useState = useState(5),\n      _useState2 = _slicedToArray(_useState, 2),\n      defautRating = _useState2[0],\n      setDefautRating = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      complaint = _useState4[0],\n      setComplaint = _useState4[1];\n\n  var dispatch = useDispatch();\n  var userState = useSelector(function (state) {\n    return state.userReducer;\n  });\n  var complaintState = useSelector(function (state) {\n    return state.complaintReducer;\n  });\n  var userInfor = userState.userInfor;\n  var status = complaintState.status;\n  useEffect(function () {\n    console.log(status);\n\n    if (status && check) {\n      Alert.alert(\"Thông báo!\", \"Cảm ơn bạn đã phản hồi!\", [{\n        text: \"OK\",\n        onPress: function onPress() {\n          return check = false;\n        }\n      }]);\n    }\n  }, [complaintState]);\n\n  var opTap = function opTap() {\n    if (userInfor) {\n      if (complaint) {\n        dispatch(addComplaint(id, complaint));\n      } else {\n        Alert.alert(\"Thông báo!\", \"Bạn chưa nhập lý do!\", [{\n          text: \"OK\"\n        }]);\n      }\n    } else {\n      Alert.alert(\"Thông báo!\", \"Chưa đăng nhập!\", [{\n        text: \"OK\"\n      }]);\n    }\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, React.createElement(HeaderTitle, {\n    title: \"B\\xE1o C\\xE1o\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }), React.createElement(View, {\n    style: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, React.createElement(TouchableOpacity, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, React.createElement(MaterialIcons, {\n    style: styles.headerIcon,\n    name: \"arrow-back\",\n    size: 30,\n    color: \"white\",\n    onPress: function onPress() {\n      return navigation.goBack();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }))), React.createElement(View, {\n    style: {\n      marginTop: 20,\n      justifyContent: 'center',\n      alignItems: 'center',\n      marginHorizontal: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 18\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, \"H\\xE3y nh\\u1EADp ph\\u1EA3n h\\u1ED3i c\\u1EE7a b\\u1EA1n :\")), React.createElement(View, {\n    style: styles.textAreaContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, React.createElement(TextInput, {\n    style: styles.textArea,\n    underlineColorAndroid: \"transparent\",\n    placeholder: \"Nh\\u1EADp ph\\u1EA3n h\\u1ED3i c\\u1EE7a b\\u1EA1n t\\u1EA1i \\u0111\\xE2y . . .\",\n    placeholderTextColor: \"grey\",\n    numberOfLines: 10,\n    maxLength: 255,\n    multiline: true,\n    onChangeText: function onChangeText(text) {\n      setComplaint(text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  })), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      marginBottom: 5,\n      marginTop: 10,\n      marginHorizontal: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: {\n      justifyContent: 'flex-end',\n      marginRight: 5\n    },\n    onPress: function onPress() {\n      check = true;\n      opTap();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.btnSend,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, \"Send\"))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff'\n  },\n  textAreaContainer: {\n    borderColor: 'gray',\n    borderWidth: 1,\n    padding: 5,\n    borderRadius: 20,\n    marginTop: 20,\n    marginHorizontal: 10\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    padding: 5,\n    position: 'absolute',\n    top: 35,\n    left: 5,\n    right: 0,\n    zIndex: 2\n  },\n  headerIcon: {\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\n    borderRadius: 50,\n    padding: 5\n  },\n  textArea: {\n    height: 90,\n    justifyContent: \"flex-start\",\n    alignItems: 'flex-start',\n    lineHeight: 30,\n    textAlignVertical: \"top\",\n    padding: 10,\n    fontSize: 16\n  },\n  btnSend: {\n    textAlign: 'center',\n    padding: 9,\n    borderRadius: 15,\n    backgroundColor: '#eeeb3e',\n    width: 100,\n    fontSize: 14\n  }\n});","map":{"version":3,"sources":["E:/React_mobile_brand/CDTN-2/src/screens/Complaint.tsx"],"names":["React","useState","useEffect","useDispatch","useSelector","addComplaint","HeaderTitle","MaterialIcons","check","Complaint","props","navigation","route","getParam","goBack","id","defautRating","setDefautRating","complaint","setComplaint","dispatch","userState","state","userReducer","complaintState","complaintReducer","userInfor","status","console","log","Alert","alert","text","onPress","opTap","styles","container","header","headerIcon","marginTop","justifyContent","alignItems","marginHorizontal","fontSize","textAreaContainer","textArea","flexDirection","marginBottom","marginRight","btnSend","StyleSheet","create","flex","backgroundColor","borderColor","borderWidth","padding","borderRadius","position","top","left","right","zIndex","height","lineHeight","textAlignVertical","textAlign","width"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport { View, TouchableOpacity,StyleSheet,Text,TextInput, Alert } from 'react-native';\r\nimport FontAwesome from 'react-native-vector-icons/FontAwesome';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { State } from '../redux';\r\nimport { addComplaint } from '../redux/actions/complaintActions';\r\nimport { useNavigation } from '../utils/useNavigation';\r\nimport HeaderTitle from './../components/HeaderTitle';\r\nimport MaterialIcons from 'react-native-vector-icons/MaterialIcons';\r\n\r\nlet check = false;\r\n\r\nexport default function Complaint(props:any) {\r\n    const { navigation, route } = props;\r\n    const { getParam, goBack } = navigation;\r\n    const id = getParam('id');\r\n    const [defautRating,setDefautRating] = useState(5);\r\n    const [complaint,setComplaint] = useState();\r\n    const dispatch = useDispatch();\r\n    const userState = useSelector((state: State) => state.userReducer);\r\n    const complaintState = useSelector((state: State) => state.complaintReducer);\r\n    const { userInfor } = userState;\r\n    const { status } = complaintState;\r\n\r\n    useEffect(() => {\r\n        console.log(status);\r\n        if(status && check){\r\n            Alert.alert(\r\n                \"Thông báo!\",\r\n                \"Cảm ơn bạn đã phản hồi!\",\r\n                [\r\n                    { text: \"OK\" , onPress: () => check = false}\r\n                ]\r\n            );\r\n            \r\n        }\r\n    },[complaintState])\r\n\r\n    const opTap = ()=>{\r\n        if(userInfor){\r\n            if(complaint){\r\n                dispatch(addComplaint(id,complaint));\r\n            }else{\r\n                Alert.alert(\r\n                    \"Thông báo!\",\r\n                    \"Bạn chưa nhập lý do!\",\r\n                    [\r\n                        { text: \"OK\" }\r\n                    ]\r\n                );\r\n            }\r\n        }else{\r\n            Alert.alert(\r\n                \"Thông báo!\",\r\n                \"Chưa đăng nhập!\",\r\n                [\r\n                    { text: \"OK\" }\r\n                ]\r\n            );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <HeaderTitle title=\"Báo Cáo\" />\r\n            <View style={styles.header}>\r\n                <TouchableOpacity>\r\n                    <MaterialIcons style={styles.headerIcon} name=\"arrow-back\" size={30} color=\"white\" onPress={() => navigation.goBack()} />\r\n                </TouchableOpacity>\r\n            </View>\r\n            <View style={{marginTop:20,justifyContent:'center',alignItems:'center',marginHorizontal:10}}>\r\n                <Text style={{fontSize:18}}>Hãy nhập phản hồi của bạn :</Text>\r\n            </View>\r\n            <View style={styles.textAreaContainer} >\r\n                    <TextInput\r\n                    style={styles.textArea}\r\n                    underlineColorAndroid=\"transparent\"\r\n                    placeholder=\"Nhập phản hồi của bạn tại đây . . .\"\r\n                    placeholderTextColor=\"grey\"\r\n                    numberOfLines={10}\r\n                    maxLength={255}\r\n                    multiline={true}\r\n                    onChangeText = {(text:any) =>{\r\n                        setComplaint(text);\r\n                    }}\r\n                    />\r\n            </View>  \r\n            <View style={{flexDirection:'row',justifyContent:'space-between',marginBottom:5,marginTop:10,marginHorizontal:10}}>      \r\n                \r\n                <TouchableOpacity style={{justifyContent:'flex-end',marginRight:5}} onPress={()=>{\r\n                    check = true;\r\n                    opTap();\r\n                }}>\r\n                    <Text style={styles.btnSend}>Send</Text>\r\n                </TouchableOpacity>\r\n            </View>     \r\n        </View>\r\n    )\r\n}\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: '#fff',\r\n      },\r\n    textAreaContainer: {\r\n      borderColor: 'gray',\r\n      borderWidth: 1,\r\n      padding: 5,\r\n      borderRadius:20,\r\n      marginTop:20,\r\n      marginHorizontal:10\r\n    },\r\n    header: {\r\n        flexDirection:'row',\r\n        justifyContent:'space-between',\r\n        padding: 5,\r\n        position: 'absolute',\r\n        top: 35,\r\n        left: 5,\r\n        right: 0,\r\n        zIndex:2\r\n    },\r\n    headerIcon: {\r\n        backgroundColor: 'rgba(0, 0, 0, 0.6)',\r\n        borderRadius: 50,\r\n        padding: 5\r\n    },\r\n    textArea: {\r\n      height: 90,\r\n      justifyContent: \"flex-start\",\r\n      alignItems:'flex-start',\r\n      lineHeight:30,\r\n      textAlignVertical: \"top\",\r\n      padding: 10,\r\n      fontSize:16\r\n    },\r\n    btnSend:{\r\n        textAlign:'center',\r\n        padding:9,\r\n        borderRadius:15,\r\n        backgroundColor:'#eeeb3e',\r\n        width:100,\r\n        fontSize:14\r\n    }\r\n})\r\n"]},"metadata":{},"sourceType":"module"}