{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nvar _jsxFileName = \"E:\\\\React_mobile_brand\\\\CDTN-2\\\\src\\\\screens\\\\User\\\\Profile.tsx\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Avatar } from 'react-native-elements';\nimport moment from 'moment';\nimport HeaderTitle from \"../../components/HeaderTitle\";\nimport MaterialIcons from \"@expo/vector-icons/MaterialIcons\";\nimport Feather from \"@expo/vector-icons/Feather\";\nimport { useNavigation } from \"../../utils/useNavigation\";\nimport axios from 'axios';\nimport { cansa } from \"../../consts/Selector\";\nvar user_temp = {\n  \"id\": 1,\n  \"phone\": \"0968241064\",\n  \"name\": \"anh\",\n  \"birthday\": \"1999-09-28T17:00:00.000Z\"\n};\n\nvar UserProfile = function UserProfile() {\n  _classCallCheck(this, UserProfile);\n};\n\nexport default function Profile(props) {\n  var _useNavigation = useNavigation(),\n      navigate = _useNavigation.navigate;\n\n  var navigation = props.navigation,\n      route = props.route;\n  var getParam = navigation.getParam,\n      goBack = navigation.goBack;\n\n  var _useState = useState(new UserProfile()),\n      _useState2 = _slicedToArray(_useState, 2),\n      userProdfile = _useState2[0],\n      setUserProfile = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isLoading = _useState4[0],\n      setIsLoading = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isLoadingChangePassword = _useState6[0],\n      setIsLoadingChangePassword = _useState6[1];\n\n  var _useState7 = useState('https://i.ibb.co/hYjK44F/anise-aroma-art-bazaar-277253.jpg'),\n      _useState8 = _slicedToArray(_useState7, 2),\n      image = _useState8[0],\n      setImage = _useState8[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var _getUserProfile, _getUserInfor;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _getUserProfile = getUserProfile();\n              _getUserInfor = getUserInfor();\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(Promise.all([_getUserProfile, _getUserInfor]).then(function () {\n                setUserProfile(userProdfile);\n                setIsLoading(true);\n              }));\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n\n  var getUserProfile = function getUserProfile() {\n    return _regeneratorRuntime.async(function getUserProfile$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(axios.get(cansa[1] + \"/api/user/get/profile\").then(function (res) {\n              userProdfile.phone = res.data.data.phone;\n              userProdfile.birthday = res.data.data.birthday;\n              userProdfile.name = res.data.data.name;\n              ;\n            }));\n\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var getUserInfor = function getUserInfor() {\n    return _regeneratorRuntime.async(function getUserInfor$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(axios.get(cansa[1] + \"/api/user/get/user\").then(function (res) {\n              userProdfile.user_key = res.data.data.user_key;\n              userProdfile.user_name = res.data.data.user_name;\n              userProdfile.user_avatar = res.data.data.user_avatar;\n              userProdfile.user_status = res.data.data.user_status;\n              userProdfile.user_last_update = res.data.data.user_last_update;\n              axios.get(cansa[0] + \"/api/image/get/\" + res.data.data.user_avatar + \"/e4611a028c71342a5b083d2cbf59c494\").then(function (res) {\n                setImage(res.data.data);\n              });\n            }));\n\n          case 2:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, !isLoading ? React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 18\n    }\n  }, React.createElement(ActivityIndicator, {\n    size: \"large\",\n    color: \"#00ff00\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  })) : React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, React.createElement(HeaderTitle, {\n    title: 'PROFILE',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 29\n    }\n  }), React.createElement(View, {\n    style: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 29\n    }\n  }, React.createElement(TouchableOpacity, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 33\n    }\n  }, React.createElement(MaterialIcons, {\n    name: \"arrow-back\",\n    size: 35,\n    color: \"white\",\n    onPress: function onPress() {\n      return navigation.goBack();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 37\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigate('EditProfile', {\n        userProfile: userProdfile,\n        avatar: image\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 33\n    }\n  }, React.createElement(Feather, {\n    name: \"edit\",\n    color: \"white\",\n    size: 35,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 37\n    }\n  })))), React.createElement(View, {\n    style: styles.viewAvatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }\n  }, React.createElement(Avatar, {\n    containerStyle: {\n      marginBottom: 20\n    },\n    rounded: true,\n    size: 200,\n    source: {\n      uri: image\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 29\n    }\n  })), React.createElement(View, {\n    style: styles.viewTxt,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  }, React.createElement(View, {\n    style: styles.txtContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 29\n    }\n  }, React.createElement(Text, {\n    style: styles.txtTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 33\n    }\n  }, \"User full name: \", userProdfile.name)), React.createElement(View, {\n    style: styles.txtContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 29\n    }\n  }, React.createElement(Text, {\n    style: styles.txtTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 33\n    }\n  }, \"User nick name: \", userProdfile.user_name)), React.createElement(View, {\n    style: styles.txtContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 29\n    }\n  }, React.createElement(Text, {\n    style: styles.txtTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 33\n    }\n  }, \"User phone: \", userProdfile.phone)), React.createElement(View, {\n    style: styles.txtContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 29\n    }\n  }, React.createElement(Text, {\n    style: styles.txtTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 33\n    }\n  }, \"User birthday: \", moment.utc(userProdfile.birthday).format('DD/MM/YYYY'))), React.createElement(View, {\n    style: styles.resetPassContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 29\n    }\n  }, isLoadingChangePassword && React.createElement(TouchableOpacity, {\n    style: styles.touchReset,\n    onPress: function onPress() {\n      setIsLoadingChangePassword(false);\n      var email = getParam('email');\n      axios.get(cansa[1] + \"/api/user/forgot/password/\" + email).then(function (res) {\n        Alert.alert('Thông Báo', res.data.message);\n        navigate('OTPscreen', {\n          email: email\n        });\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 37\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 20,\n      color: '#555'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 41\n    }\n  }, \"\\u0110\\u1ED5i m\\u1EADt kh\\u1EA9u\"), React.createElement(MaterialIcons, {\n    name: \"arrow-right-alt\",\n    size: 35,\n    color: \"#555\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 41\n    }\n  }))))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#E5E5E5'\n  },\n  viewAvatar: {\n    backgroundColor: '#fff',\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    paddingTop: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: '#ccc',\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 3\n    },\n    shadowOpacity: 0.29,\n    shadowRadius: 4.65,\n    elevation: 7,\n    marginHorizontal: 5\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    padding: 5,\n    position: 'absolute',\n    top: 33,\n    left: 5,\n    right: 0,\n    zIndex: 2\n  },\n  viewTxt: {\n    marginTop: 3,\n    backgroundColor: '#fff',\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 3\n    },\n    shadowOpacity: 0.29,\n    shadowRadius: 4.65,\n    elevation: 7,\n    marginHorizontal: 5\n  },\n  txtContainer: {\n    flexDirection: 'row',\n    margin: 15,\n    marginHorizontal: 10\n  },\n  txtTitle: {\n    fontSize: 20,\n    color: '#111'\n  },\n  resetPassContainer: {\n    borderTopColor: '#ddd',\n    borderTopWidth: 2,\n    margin: 10,\n    marginHorizontal: 10\n  },\n  touchReset: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginTop: 10\n  }\n});","map":{"version":3,"sources":["E:/React_mobile_brand/CDTN-2/src/screens/User/Profile.tsx"],"names":["React","useEffect","useState","Avatar","moment","HeaderTitle","MaterialIcons","Feather","useNavigation","axios","cansa","user_temp","UserProfile","Profile","props","navigate","navigation","route","getParam","goBack","userProdfile","setUserProfile","isLoading","setIsLoading","isLoadingChangePassword","setIsLoadingChangePassword","image","setImage","_getUserProfile","getUserProfile","_getUserInfor","getUserInfor","Promise","all","then","get","res","phone","data","birthday","name","user_key","user_name","user_avatar","user_status","user_last_update","styles","container","header","userProfile","avatar","viewAvatar","marginBottom","uri","viewTxt","txtContainer","txtTitle","utc","format","resetPassContainer","touchReset","email","Alert","alert","message","fontSize","color","StyleSheet","create","flex","backgroundColor","justifyContent","alignItems","paddingTop","borderBottomWidth","borderBottomColor","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","marginHorizontal","flexDirection","padding","position","top","left","right","zIndex","marginTop","margin","borderTopColor","borderTopWidth"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { View, Text, StyleSheet, Platform, TouchableOpacity, ActivityIndicator, Alert } from 'react-native';\r\nimport { Accessory, Avatar, Button } from 'react-native-elements';\r\nimport * as ImagePicker from 'expo-image-picker';\r\nimport moment from 'moment';\r\nimport COLORS from '../../consts/Colors';\r\nimport HeaderTitle from '../../components/HeaderTitle';\r\nimport MaterialIcons from 'react-native-vector-icons/MaterialIcons';\r\nimport Feather from 'react-native-vector-icons/Feather';\r\nimport { useNavigation } from '../../utils/useNavigation';\r\nimport axios from 'axios';\r\nimport { cansa } from '../../consts/Selector';\r\n\r\nlet user_temp = {\r\n    \"id\": 1,\r\n    \"phone\": \"0968241064\",\r\n    \"name\": \"anh\",\r\n    \"birthday\": \"1999-09-28T17:00:00.000Z\"\r\n}\r\n\r\nclass UserProfile {\r\n    id?: number;\r\n    phone?: string;\r\n    name?: string;\r\n    birthday?: Date;\r\n    user_id?: number;\r\n    user_key?: null;\r\n    user_name?: string;\r\n    user_avatar?: string;\r\n    user_status?: number;\r\n    user_last_update?: number;\r\n}\r\n\r\nexport default function Profile(props: any) {\r\n    const { navigate } = useNavigation();\r\n    const { navigation, route } = props;\r\n    const { getParam, goBack } = navigation;\r\n    let [userProdfile, setUserProfile] = useState(new UserProfile());\r\n\r\n    const [isLoading, setIsLoading] = useState<boolean>(false);\r\n    const [isLoadingChangePassword, setIsLoadingChangePassword] = useState<boolean>(true);\r\n\r\n    const [image, setImage] = useState('https://i.ibb.co/hYjK44F/anise-aroma-art-bazaar-277253.jpg');\r\n\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            const _getUserProfile = getUserProfile();\r\n            const _getUserInfor = getUserInfor();\r\n\r\n            await Promise.all([_getUserProfile, _getUserInfor]).then(() => {\r\n                setUserProfile(userProdfile);\r\n                setIsLoading(true);\r\n            })\r\n        }\r\n        )();\r\n    }, [])\r\n\r\n    const getUserProfile = async () => {\r\n        await axios.get(`${cansa[1]}/api/user/get/profile`)\r\n            .then(res => {\r\n                userProdfile.phone = res.data.data.phone;\r\n                userProdfile.birthday = res.data.data.birthday;\r\n                userProdfile.name = res.data.data.name;;\r\n            })\r\n    }\r\n\r\n    const getUserInfor = async () => {\r\n        await axios.get(`${cansa[1]}/api/user/get/user`)\r\n            .then(res => {\r\n                userProdfile.user_key = res.data.data.user_key;\r\n                userProdfile.user_name = res.data.data.user_name;\r\n                userProdfile.user_avatar = res.data.data.user_avatar;\r\n                userProdfile.user_status = res.data.data.user_status;\r\n                userProdfile.user_last_update = res.data.data.user_last_update;\r\n                axios.get(`${cansa[0]}/api/image/get/${res.data.data.user_avatar}/e4611a028c71342a5b083d2cbf59c494`).then(res => {\r\n                    setImage(res.data.data);\r\n                })\r\n            })\r\n    }\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            {!isLoading ?\r\n                (<View style={styles.container}>\r\n                    <ActivityIndicator size=\"large\" color=\"#00ff00\" />\r\n                </View>) : (\r\n                    <View>\r\n                        <View>\r\n                            <HeaderTitle title={'PROFILE'} />\r\n                            <View style={styles.header}>\r\n                                <TouchableOpacity>\r\n                                    <MaterialIcons name=\"arrow-back\" size={35} color=\"white\" onPress={() => navigation.goBack()} />\r\n                                </TouchableOpacity>\r\n                                <TouchableOpacity onPress={() => navigate('EditProfile', { userProfile: userProdfile, avatar: image })}>\r\n                                    <Feather name=\"edit\" color=\"white\" size={35} />\r\n                                </TouchableOpacity>\r\n                            </View>\r\n                        </View>\r\n\r\n                        <View style={styles.viewAvatar}>\r\n                            <Avatar\r\n                                containerStyle={{ marginBottom: 20 }}\r\n                                rounded\r\n                                size={200}\r\n                                source={{\r\n                                    uri: image,\r\n                                }} >\r\n                            </Avatar>\r\n                        </View>\r\n\r\n                        <View style={styles.viewTxt}>\r\n                            <View style={styles.txtContainer}>\r\n                                <Text style={styles.txtTitle}>User full name: {userProdfile.name}</Text>\r\n                            </View>\r\n\r\n                            <View style={styles.txtContainer}>\r\n                                <Text style={styles.txtTitle}>User nick name: {userProdfile.user_name}</Text>\r\n                            </View>\r\n\r\n                            <View style={styles.txtContainer}>\r\n                                <Text style={styles.txtTitle}>User phone: {userProdfile.phone}</Text>\r\n                            </View>\r\n\r\n                            <View style={styles.txtContainer}>\r\n                                <Text style={styles.txtTitle}>User birthday: {moment.utc(userProdfile.birthday).format('DD/MM/YYYY')}</Text>\r\n                            </View>\r\n\r\n                            <View style={styles.resetPassContainer}>\r\n                                {\r\n                                    isLoadingChangePassword &&\r\n                                    <TouchableOpacity style={styles.touchReset}\r\n                                        onPress={() => {\r\n                                            setIsLoadingChangePassword(false);\r\n                                            let email = getParam('email');\r\n                                            axios.get(`${cansa[1]}/api/user/forgot/password/${email}`).then((res) => {\r\n                                                Alert.alert('Thông Báo', res.data.message);\r\n                                                navigate('OTPscreen', { email: email })\r\n                                            })\r\n                                        }}>\r\n                                        <Text style={{ fontSize: 20, color: '#555' }}>Đổi mật khẩu</Text>\r\n                                        <MaterialIcons name=\"arrow-right-alt\" size={35} color=\"#555\" />\r\n                                    </TouchableOpacity>\r\n                                }\r\n\r\n                            </View>\r\n                        </View>\r\n                    </View>)}\r\n        </View>\r\n    )\r\n}\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: '#E5E5E5',\r\n    },\r\n    viewAvatar: {\r\n        backgroundColor: '#fff',\r\n        justifyContent: 'flex-start',\r\n        alignItems: 'center',\r\n        paddingTop: 20,\r\n        borderBottomWidth: 1,\r\n        borderBottomColor: '#ccc',\r\n        shadowColor: \"#000\",\r\n        shadowOffset: {\r\n            width: 0,\r\n            height: 3,\r\n        },\r\n        shadowOpacity: 0.29,\r\n        shadowRadius: 4.65,\r\n        elevation: 7,\r\n        marginHorizontal: 5\r\n    },\r\n    header: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        padding: 5,\r\n        position: 'absolute',\r\n        top: 33,\r\n        left: 5,\r\n        right: 0,\r\n        zIndex: 2\r\n    },\r\n    viewTxt: {\r\n        marginTop: 3,\r\n        backgroundColor: '#fff',\r\n        shadowColor: \"#000\",\r\n        shadowOffset: {\r\n            width: 0,\r\n            height: 3,\r\n        },\r\n        shadowOpacity: 0.29,\r\n        shadowRadius: 4.65,\r\n        elevation: 7,\r\n        marginHorizontal: 5\r\n    },\r\n    txtContainer: {\r\n        flexDirection: 'row',\r\n        margin: 15,\r\n        marginHorizontal: 10\r\n    },\r\n    txtTitle: {\r\n        fontSize: 20,\r\n        color: '#111'\r\n    },\r\n    resetPassContainer: {\r\n        borderTopColor: '#ddd',\r\n        borderTopWidth: 2,\r\n        margin: 10,\r\n        marginHorizontal: 10\r\n    },\r\n    touchReset: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        marginTop: 10\r\n    }\r\n\r\n});"]},"metadata":{},"sourceType":"module"}