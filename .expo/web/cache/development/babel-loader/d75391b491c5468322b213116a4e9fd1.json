{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nvar _jsxFileName = \"C:\\\\Users\\\\natsw\\\\Desktop\\\\Mobile\\\\CDTN-2\\\\src\\\\screens\\\\ProductDetail.tsx\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport { SafeAreaView } from 'react-navigation';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport MaterialIcons from \"@expo/vector-icons/MaterialIcons\";\nimport Carousel from \"./../components/Carousel\";\nimport COLORS from \"../consts/Colors\";\nimport RatingComment from \"../components/RatingComment\";\nimport Comment from \"../components/Comment\";\nimport { useNavigation } from \"./../utils/useNavigation\";\nimport { Rating } from 'react-native-elements';\nimport axios from 'axios';\nimport { cansa } from \"../consts/Selector\";\nvar dummyData = [{\n  title: 'ƯU ĐÃI MỚI -  GIẢM TỚI 30%',\n  url: 'https://i.ibb.co/hYjK44F/anise-aroma-art-bazaar-277253.jpg',\n  description: \"Khi mua hàng theo mùa\",\n  id: 1\n}, {\n  title: 'Food inside a Bowl',\n  url: 'https://i.ibb.co/JtS24qP/food-inside-bowl-1854037.jpg',\n  description: \"Khi mua hàng theo mùa\",\n  id: 2\n}, {\n  title: 'Vegatable Salad',\n  url: 'https://i.ibb.co/JxykVBt/flat-lay-photography-of-vegetable-salad-on-plate-1640777.jpg',\n  description: \"Khi mua hàng theo mùa\",\n  id: 3\n}, {\n  title: 'Anise a Aroma Art Bazar',\n  url: 'https://i.ibb.co/hYjK44F/anise-aroma-art-bazaar-277253.jpg',\n  description: \"Khi mua hàng theo mùa\",\n  id: 4\n}];\n\nvar _ProductDetail = function _ProductDetail() {\n  _classCallCheck(this, _ProductDetail);\n\n  this.comments = [];\n};\n\nexport default function ProductDetail(props) {\n  var _this = this;\n\n  var _useNavigation = useNavigation(),\n      navigate = _useNavigation.navigate;\n\n  var navigation = props.navigation,\n      route = props.route;\n  var getParam = navigation.getParam,\n      goBack = navigation.goBack;\n\n  var _useState = useState(new _ProductDetail()),\n      _useState2 = _slicedToArray(_useState, 2),\n      _productDetail = _useState2[0],\n      setProductDetail = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isLoading = _useState4[0],\n      setIsLoading = _useState4[1];\n\n  var id = getParam('id');\n  useEffect(function () {\n    getProduct();\n  }, []);\n\n  var getProduct = function getProduct() {\n    return _regeneratorRuntime.async(function getProduct$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(axios.get(cansa[1] + \"/api/product/view/\" + id + \"/0/e4611a028c71342a5b083d2cbf59c494\").then(function (response) {\n              var data = response.data.data;\n              _productDetail.product = data;\n              getComments();\n              setIsLoading(true);\n            }));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var getComments = function getComments() {\n    return _regeneratorRuntime.async(function getComments$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(axios.get(cansa[1] + \"/api/comment/all/\" + id + \"/e4611a028c71342a5b083d2cbf59c494\").then(function (response) {\n              var data = response.data.data;\n              _productDetail.comments = data;\n              setProductDetail(_productDetail);\n              setIsLoading(true);\n              console.log(_productDetail);\n            }));\n\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, !isLoading ? React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 18\n    }\n  }, React.createElement(ActivityIndicator, {\n    size: \"large\",\n    color: \"#00ff00\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  })) : React.createElement(ScrollView, {\n    showsVerticalScrollIndicator: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 18\n    }\n  }, React.createElement(View, {\n    style: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, React.createElement(TouchableOpacity, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }, React.createElement(MaterialIcons, {\n    style: styles.headerIcon,\n    name: \"arrow-back\",\n    size: 30,\n    color: \"white\",\n    onPress: function onPress() {\n      return navigation.goBack();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 29\n    }\n  })), React.createElement(TouchableOpacity, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  }, React.createElement(MaterialIcons, {\n    onPress: function onPress() {\n      return navigate('cart');\n    },\n    style: styles.headerIcon,\n    name: \"shopping-cart\",\n    color: \"white\",\n    size: 30,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 29\n    }\n  }))), React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, React.createElement(Carousel, {\n    images: _productDetail.product && _productDetail.product.product_image,\n    auto: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  })), React.createElement(View, {\n    style: styles.detailContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, React.createElement(View, {\n    style: {\n      alignItems: 'center',\n      flexDirection: 'row',\n      marginBottom: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }, React.createElement(Rating, {\n    readonly: true,\n    imageSize: 28,\n    fractions: \"{1}\",\n    startingValue: _productDetail.product && _productDetail.product.product_rating,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 29\n    }\n  }), React.createElement(Text, {\n    style: {\n      marginLeft: 20,\n      color: '#444',\n      fontSize: 22\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 29\n    }\n  }, _productDetail.product && _productDetail.product.product_rating)), React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }\n  }, _productDetail.product && _productDetail.product.product_title), React.createElement(View, {\n    style: {\n      display: 'flex',\n      flexDirection: 'row'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      flexDirection: 'column',\n      alignItems: 'flex-start'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 29\n    }\n  }, React.createElement(Text, {\n    style: {\n      marginBottom: 10,\n      color: 'red',\n      fontSize: 26\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 33\n    }\n  }, _productDetail.product && _productDetail.product.product_price * (100 - _productDetail.product.product_sale) / 100), React.createElement(Text, {\n    style: {\n      textDecorationLine: 'line-through',\n      color: 'gray',\n      fontSize: 23\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 33\n    }\n  }, _productDetail.product && _productDetail.product.product_price)), React.createElement(View, {\n    style: {\n      flex: 1,\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 29\n    }\n  }, React.createElement(TouchableOpacity, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 33\n    }\n  }, React.createElement(Text, {\n    style: styles.btnBuy,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 37\n    }\n  }, \"Add Cart\")), React.createElement(TouchableOpacity, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 33\n    }\n  }, React.createElement(Text, {\n    style: styles.btnBuy,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 37\n    }\n  }, \"Buy\")))), React.createElement(Text, {\n    style: styles.headerTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  }, \"M\\xF4 t\\u1EA3 s\\u1EA3n ph\\u1EA9m :\"), React.createElement(Text, {\n    style: styles.desc,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }, _productDetail.product && _productDetail.product.product_description), React.createElement(Text, {\n    style: styles.headerTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }, \"\\u0110\\xE1nh gi\\xE1 & nh\\u1EADn x\\xE9t :\"), React.createElement(RatingComment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 25\n    }\n  }), React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 25\n    }\n  }, _productDetail.comments && _productDetail.comments.map(function (comment) {\n    return React.createElement(Comment, {\n      starNumber: comment.comment_rating,\n      user: comment.user,\n      comment_content: comment.comment_content,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 33\n      }\n    });\n  })))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: 'white',\n    marginTop: 35\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    padding: 5,\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    zIndex: 2\n  },\n  headerIcon: {\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\n    borderRadius: 50,\n    padding: 5\n  },\n  detailContainer: {\n    flex: 0.55,\n    marginHorizontal: 7,\n    borderRadius: 20,\n    padding: 5,\n    backgroundColor: 'white'\n  },\n  title: {\n    fontSize: 30,\n    fontWeight: 'bold',\n    color: COLORS.primary,\n    marginBottom: 10\n  },\n  headerTitle: {\n    fontSize: 22,\n    fontWeight: 'bold',\n    color: '#111'\n  },\n  desc: {\n    fontSize: 18,\n    lineHeight: 25,\n    color: '#111',\n    padding: 2\n  },\n  btnBuy: {\n    backgroundColor: '#00FF7F',\n    padding: 7,\n    width: 150,\n    borderRadius: 20,\n    marginBottom: 10,\n    fontSize: 18,\n    textAlign: 'center',\n    fontWeight: '700',\n    color: '#222'\n  }\n});","map":{"version":3,"sources":["C:/Users/natsw/Desktop/Mobile/CDTN-2/src/screens/ProductDetail.tsx"],"names":["React","useState","useEffect","SafeAreaView","MaterialIcons","Carousel","COLORS","RatingComment","Comment","useNavigation","Rating","axios","cansa","dummyData","title","url","description","id","_ProductDetail","comments","ProductDetail","props","navigate","navigation","route","getParam","goBack","_productDetail","setProductDetail","isLoading","setIsLoading","getProduct","get","then","response","data","product","getComments","console","log","styles","container","header","headerIcon","product_image","detailContainer","alignItems","flexDirection","marginBottom","product_rating","marginLeft","color","fontSize","product_title","display","flex","product_price","product_sale","textDecorationLine","justifyContent","btnBuy","headerTitle","desc","product_description","map","comment","comment_rating","user","comment_content","StyleSheet","create","backgroundColor","marginTop","padding","position","top","left","right","zIndex","borderRadius","marginHorizontal","fontWeight","primary","lineHeight","width","textAlign"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { SafeAreaView } from 'react-navigation'\r\nimport { View, StyleSheet, Text, TouchableOpacity, ScrollView, ActivityIndicator } from 'react-native';\r\nimport MaterialIcons from 'react-native-vector-icons/MaterialIcons';\r\nimport Carousel from './../components/Carousel';\r\nimport COLORS from '../consts/Colors';\r\nimport RatingComment from '../components/RatingComment';\r\nimport Comment from '../components/Comment';\r\nimport { useNavigation } from './../utils/useNavigation';\r\nimport { Rating } from 'react-native-elements';\r\nimport axios from 'axios';\r\nimport { cansa } from '../consts/Selector';\r\nimport { CommentModel, ProductModel } from '../redux';\r\n\r\nconst dummyData =\r\n    [{\r\n        title: 'ƯU ĐÃI MỚI -  GIẢM TỚI 30%', url: 'https://i.ibb.co/hYjK44F/anise-aroma-art-bazaar-277253.jpg',\r\n        description: \"Khi mua hàng theo mùa\",\r\n        id: 1\r\n\r\n    },\r\n    {\r\n        title: 'Food inside a Bowl', url: 'https://i.ibb.co/JtS24qP/food-inside-bowl-1854037.jpg',\r\n        description: \"Khi mua hàng theo mùa\",\r\n        id: 2\r\n    },\r\n    {\r\n        title: 'Vegatable Salad', url: 'https://i.ibb.co/JxykVBt/flat-lay-photography-of-vegetable-salad-on-plate-1640777.jpg',\r\n        description: \"Khi mua hàng theo mùa\",\r\n        id: 3\r\n    },\r\n    {\r\n        title: 'Anise a Aroma Art Bazar', url: 'https://i.ibb.co/hYjK44F/anise-aroma-art-bazaar-277253.jpg',\r\n        description: \"Khi mua hàng theo mùa\",\r\n        id: 4\r\n\r\n    }]\r\n class _ProductDetail{\r\n    comments:CommentModel[] = [];\r\n    comment?:CommentModel;\r\n    product?:ProductModel;\r\n    constructor(){}\r\n }\r\n\r\nexport default function ProductDetail(props: any) {\r\n    const { navigate } = useNavigation();\r\n    const { navigation, route } = props;\r\n    const { getParam, goBack } = navigation;\r\n    // const [product, setProduct] = useState<ProductModel>();\r\n    let [_productDetail, setProductDetail] = useState<_ProductDetail>(new _ProductDetail());\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const id = getParam('id');\r\n    useEffect(() => {\r\n        getProduct();\r\n    }, []);\r\n\r\n    const getProduct = async () => {\r\n        await axios.get(`${cansa[1]}/api/product/view/${id}/0/e4611a028c71342a5b083d2cbf59c494`).then((response) => {\r\n            const { data } = response.data;\r\n            _productDetail.product = data;\r\n            getComments();\r\n            setIsLoading(true);\r\n        })\r\n    }\r\n\r\n    const getComments = async () => {\r\n        await axios.get(`${cansa[1]}/api/comment/all/${id}/e4611a028c71342a5b083d2cbf59c494`).then((response) => {\r\n            const { data } = response.data;\r\n            _productDetail.comments = data;\r\n            setProductDetail(_productDetail);\r\n            setIsLoading(true);\r\n            console.log(_productDetail);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <SafeAreaView style={styles.container}>\r\n            {!isLoading ?\r\n                (<View style={styles.container}>\r\n                    <ActivityIndicator size=\"large\" color=\"#00ff00\" />\r\n                </View>) :\r\n                (<ScrollView showsVerticalScrollIndicator={false}>\r\n                    <View style={styles.header}>\r\n                        <TouchableOpacity>\r\n                            <MaterialIcons style={styles.headerIcon} name=\"arrow-back\" size={30} color=\"white\" onPress={() => navigation.goBack()} />\r\n                        </TouchableOpacity>\r\n                        <TouchableOpacity>\r\n                            <MaterialIcons onPress={() => navigate('cart')} style={styles.headerIcon} name=\"shopping-cart\" color=\"white\" size={30} />\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                    <View >\r\n                        <Carousel images={_productDetail.product && _productDetail.product.product_image} auto={false} />\r\n                    </View>\r\n                    <View style={styles.detailContainer}>\r\n                        <View style={{ alignItems: 'center', flexDirection: 'row', marginBottom: 10 }}>\r\n                            <Rating readonly imageSize={28} fractions=\"{1}\" startingValue={_productDetail.product && _productDetail.product.product_rating} />\r\n                            <Text style={{ marginLeft: 20, color: '#444', fontSize: 22 }}>{_productDetail.product && _productDetail.product.product_rating}</Text>\r\n                        </View>\r\n                        <Text style={styles.title}>{_productDetail.product && _productDetail.product.product_title}</Text>\r\n                        <View style={{ display: 'flex', flexDirection: 'row' }}>\r\n                            <View style={{ flex: 1, flexDirection: 'column', alignItems: 'flex-start' }}>\r\n                                <Text style={{ marginBottom: 10, color: 'red', fontSize: 26 }}>{_productDetail.product && _productDetail.product.product_price * (100 - _productDetail.product.product_sale) / 100}</Text>\r\n                                <Text style={{ textDecorationLine: 'line-through', color: 'gray', fontSize: 23 }}>{_productDetail.product && _productDetail.product.product_price}</Text>\r\n                            </View>\r\n                            <View style={{ flex: 1, flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\r\n                                <TouchableOpacity>\r\n                                    <Text style={styles.btnBuy}>Add Cart</Text>\r\n                                </TouchableOpacity>\r\n                                <TouchableOpacity>\r\n                                    <Text style={styles.btnBuy}>Buy</Text>\r\n                                </TouchableOpacity>\r\n                            </View>\r\n                        </View>\r\n\r\n                        <Text style={styles.headerTitle}>Mô tả sản phẩm :</Text>\r\n                        <Text style={styles.desc}>\r\n                            {\r\n                                _productDetail.product && _productDetail.product.product_description\r\n                            }\r\n                        </Text>\r\n\r\n                        <Text style={styles.headerTitle}>Đánh giá & nhận xét :</Text>\r\n\r\n                        <RatingComment />\r\n                        <View>\r\n                            {\r\n                                _productDetail.comments && _productDetail.comments.map((comment:CommentModel) => \r\n                                <Comment starNumber={comment.comment_rating} user={comment.user} comment_content={comment.comment_content}/>\r\n                                )\r\n                            }\r\n                        </View>\r\n                        \r\n                    </View>\r\n                </ScrollView>\r\n                )}\r\n        </SafeAreaView>\r\n    )\r\n}\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: 'white',\r\n        marginTop: 35\r\n    },\r\n    header: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        padding: 5,\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        zIndex: 2\r\n    },\r\n    headerIcon: {\r\n        backgroundColor: 'rgba(0, 0, 0, 0.6)',\r\n        borderRadius: 50,\r\n        padding: 5\r\n    },\r\n    detailContainer: {\r\n        flex: 0.55,\r\n        marginHorizontal: 7,\r\n        borderRadius: 20,\r\n        padding: 5,\r\n        backgroundColor: 'white'\r\n    },\r\n    title: {\r\n        fontSize: 30,\r\n        fontWeight: 'bold',\r\n        color: COLORS.primary,\r\n        marginBottom: 10\r\n    },\r\n    headerTitle: {\r\n        fontSize: 22,\r\n        fontWeight: 'bold',\r\n        color: '#111'\r\n    },\r\n    desc: {\r\n        fontSize: 18,\r\n        lineHeight: 25,\r\n        color: '#111',\r\n        padding: 2\r\n    },\r\n    btnBuy: {\r\n        backgroundColor: '#00FF7F',\r\n        padding: 7,\r\n        width: 150,\r\n        borderRadius: 20,\r\n        marginBottom: 10,\r\n        fontSize: 18,\r\n        textAlign: 'center',\r\n        fontWeight: '700',\r\n        color: '#222'\r\n    }\r\n});"]},"metadata":{},"sourceType":"module"}