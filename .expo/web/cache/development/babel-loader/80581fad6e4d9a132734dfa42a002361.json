{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"E:\\\\React_mobile_brand\\\\CDTN-2\\\\src\\\\screens\\\\User\\\\EditProfile.tsx\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Button, Text, Input, Avatar, Accessory } from 'react-native-elements';\nimport moment from 'moment';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome';\nimport { faCalendarAlt } from '@fortawesome/free-solid-svg-icons';\nimport { useNavigation } from \"../../utils/useNavigation\";\nimport MaterialIcons from \"@expo/vector-icons/MaterialIcons\";\nimport HeaderTitle from \"../../components/HeaderTitle\";\nimport axios from 'axios';\nimport * as ImagePicker from 'expo-image-picker';\nimport { cansa } from \"../../consts/Selector\";\nimport COLORS from \"../../consts/Colors\";\nvar user_temp = {\n  \"id\": 1,\n  \"phone\": \"0968241064\",\n  \"name\": \"anh\",\n  \"birthday\": \"1999-09-28T17:00:00.000Z\"\n};\nexport default function EditProfile(props) {\n  var _useNavigation = useNavigation(),\n      navigate = _useNavigation.navigate;\n\n  var navigation = props.navigation,\n      route = props.route;\n  var getParam = navigation.getParam,\n      goBack = navigation.goBack;\n  var userProdfile = getParam('userProfile');\n  var avatar = getParam('avatar');\n\n  var _useState = useState(new Date(userProdfile.birthday)),\n      _useState2 = _slicedToArray(_useState, 2),\n      date = _useState2[0],\n      setDate = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      show = _useState4[0],\n      setShow = _useState4[1];\n\n  var _useState5 = useState(userProdfile.name),\n      _useState6 = _slicedToArray(_useState5, 2),\n      name = _useState6[0],\n      setName = _useState6[1];\n\n  var _useState7 = useState(userProdfile.user_name),\n      _useState8 = _slicedToArray(_useState7, 2),\n      nickName = _useState8[0],\n      setNickName = _useState8[1];\n\n  var _useState9 = useState(userProdfile.phone),\n      _useState10 = _slicedToArray(_useState9, 2),\n      phone = _useState10[0],\n      setPhone = _useState10[1];\n\n  var _useState11 = useState(avatar),\n      _useState12 = _slicedToArray(_useState11, 2),\n      image = _useState12[0],\n      setImage = _useState12[1];\n\n  var _useState13 = useState(true),\n      _useState14 = _slicedToArray(_useState13, 2),\n      isLoading = _useState14[0],\n      setIsLoading = _useState14[1];\n\n  useEffect(function () {}, []);\n\n  var onChange = function onChange(event, selectedDate) {\n    selectedDate = selectedDate || date;\n    setShow(Platform.OS === 'ios');\n    setDate(selectedDate);\n  };\n\n  var showMode = function showMode(currentMode) {\n    setShow(true);\n  };\n\n  var showDatepicker = function showDatepicker() {\n    showMode('date');\n    setDate(date);\n  };\n\n  var getImg = function getImg() {\n    var result;\n    return _regeneratorRuntime.async(function getImg$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.Images,\n              allowsEditing: true,\n              aspect: [3, 3],\n              quality: 1\n            }));\n\n          case 2:\n            result = _context.sent;\n\n            if (!result.cancelled) {\n              setImage(result.uri);\n            }\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var save = function save() {\n    var config = {\n      headers: {\n        'Content-Type': 'multipart/form-data;'\n      }\n    };\n    var data = new FormData();\n    data.append('file', {\n      uri: image,\n      name: 'userProfile.jpg',\n      type: 'image/jpg'\n    });\n    axios.post(cansa[0] + \"/api/image/update/\" + userProdfile.user_avatar + \"/e4611a028c71342a5b083d2cbf59c494\", data, config).then(function (resp) {\n      var avatar_user = resp.data.data.image_id;\n      var link = \"/api/user/update/profile/\" + name + \"/\" + phone + \"/\" + moment.utc(date).format('YYYY-MM-DD');\n      axios.get(\"\" + cansa[1] + link).then(function (res) {\n        var link = \"/api/user/update/user/\" + userProdfile.user_key + \"/\" + nickName + \"/\" + avatar_user + \"/\" + userProdfile.user_status;\n        axios.get(\"\" + cansa[1] + link).then(function (res) {\n          Alert.alert(\"Thông báo!\", res.data.message, [{\n            text: \"OK\"\n          }]);\n        });\n      });\n    });\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, React.createElement(HeaderTitle, {\n    title: 'EDIT PROFILE',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }), React.createElement(View, {\n    style: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, React.createElement(TouchableOpacity, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }\n  }, React.createElement(MaterialIcons, {\n    name: \"arrow-back\",\n    size: 35,\n    color: \"white\",\n    onPress: function onPress() {\n      return navigation.goBack();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 29\n    }\n  })))), React.createElement(View, {\n    style: styles.viewAvatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, React.createElement(Avatar, {\n    containerStyle: {\n      marginBottom: 20\n    },\n    rounded: true,\n    size: 200,\n    source: {\n      uri: image\n    },\n    onPress: getImg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }, React.createElement(Accessory, {\n    style: {\n      borderWidth: 2,\n      borderColor: \"#444\",\n      backgroundColor: COLORS.primary\n    },\n    size: 50,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  }))), React.createElement(View, {\n    style: styles.viewTxt,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, React.createElement(Input, {\n    value: name,\n    label: \"H\\u1ECD v\\xE0 T\\xEAn\",\n    onChangeText: setName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }), React.createElement(Input, {\n    value: nickName,\n    label: \"Nick Name\",\n    onChangeText: setNickName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 21\n    }\n  }), React.createElement(Input, {\n    value: phone,\n    keyboardType: \"numeric\",\n    label: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",\n    onChangeText: setPhone,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  }), React.createElement(View, {\n    style: styles.txtContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.txtTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 25\n    }\n  }, \"Ng\\xE0y sinh: \", moment.utc(date).format('DD/MM/YYYY')), React.createElement(Button, {\n    onPress: showDatepicker,\n    buttonStyle: {\n      backgroundColor: COLORS.primary\n    },\n    title: React.createElement(FontAwesomeIcon, {\n      color: \"white\",\n      size: 20,\n      icon: faCalendarAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 33\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 25\n    }\n  }), show && React.createElement(DateTimePicker, {\n    testID: \"dateTimePicker\",\n    value: date,\n    mode: 'date',\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 29\n    }\n  })), React.createElement(View, {\n    style: {\n      justifyContent: 'center',\n      alignItems: 'center',\n      marginTop: 25,\n      marginBottom: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 21\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      save();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: styles.btnBuy,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 29\n    }\n  }, \"L\\u01B0u\"))))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#E5E5E5'\n  },\n  viewAvatar: {\n    backgroundColor: '#fff',\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    paddingTop: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: '#ccc',\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 3\n    },\n    shadowOpacity: 0.29,\n    shadowRadius: 4.65,\n    elevation: 7,\n    marginHorizontal: 5\n  },\n  btnBuy: {\n    backgroundColor: '#00FF7F',\n    padding: 7,\n    width: 150,\n    borderRadius: 20,\n    marginBottom: 10,\n    fontSize: 18,\n    textAlign: 'center',\n    fontWeight: '700',\n    color: '#222'\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    padding: 5,\n    position: 'absolute',\n    top: 33,\n    left: 5,\n    right: 0,\n    zIndex: 2\n  },\n  viewTxt: {\n    paddingTop: 5,\n    marginTop: 3,\n    backgroundColor: '#fff',\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 3\n    },\n    shadowOpacity: 0.29,\n    shadowRadius: 4.65,\n    elevation: 7,\n    marginHorizontal: 5\n  },\n  txtContainer: {\n    flexDirection: 'row',\n    marginHorizontal: 10,\n    alignItems: 'center'\n  },\n  txtTitle: {\n    fontSize: 20,\n    color: '#111',\n    marginRight: 20\n  },\n  resetPassContainer: {\n    borderTopColor: '#ddd',\n    borderTopWidth: 2,\n    margin: 10,\n    marginHorizontal: 10\n  },\n  touchReset: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginTop: 10\n  }\n});","map":{"version":3,"sources":["E:/React_mobile_brand/CDTN-2/src/screens/User/EditProfile.tsx"],"names":["React","useEffect","useState","Button","Text","Input","Avatar","Accessory","moment","DateTimePicker","FontAwesomeIcon","faCalendarAlt","useNavigation","MaterialIcons","HeaderTitle","axios","ImagePicker","cansa","COLORS","user_temp","EditProfile","props","navigate","navigation","route","getParam","goBack","userProdfile","avatar","Date","birthday","date","setDate","show","setShow","name","setName","user_name","nickName","setNickName","phone","setPhone","image","setImage","isLoading","setIsLoading","onChange","event","selectedDate","Platform","OS","showMode","currentMode","showDatepicker","getImg","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","aspect","quality","result","cancelled","uri","save","config","headers","data","FormData","append","type","post","user_avatar","then","resp","avatar_user","image_id","link","utc","format","get","res","user_key","user_status","Alert","alert","message","text","styles","container","header","viewAvatar","marginBottom","borderWidth","borderColor","backgroundColor","primary","viewTxt","txtContainer","txtTitle","justifyContent","alignItems","marginTop","btnBuy","StyleSheet","create","flex","paddingTop","borderBottomWidth","borderBottomColor","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","marginHorizontal","padding","borderRadius","fontSize","textAlign","fontWeight","color","flexDirection","position","top","left","right","zIndex","marginRight","resetPassContainer","borderTopColor","borderTopWidth","margin","touchReset"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { View, StyleSheet, Platform, TouchableOpacity, ActivityIndicator, Alert } from 'react-native';\r\nimport { Button, Text, Input, Avatar, Accessory } from 'react-native-elements';\r\nimport moment from 'moment';\r\n\r\nimport DateTimePicker from '@react-native-community/datetimepicker';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome';\r\nimport { faCalendarAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { useNavigation } from '../../utils/useNavigation';\r\nimport MaterialIcons from 'react-native-vector-icons/MaterialIcons';\r\nimport Feather from 'react-native-vector-icons/Feather';\r\nimport HeaderTitle from '../../components/HeaderTitle';\r\nimport axios from 'axios';\r\nimport * as ImagePicker from 'expo-image-picker';\r\nimport { cansa } from '../../consts/Selector';\r\nimport {  margin, marginBottom } from 'styled-system';\r\nimport COLORS from '../../consts/Colors';\r\n\r\nlet user_temp = {\r\n    \"id\": 1,\r\n    \"phone\": \"0968241064\",\r\n    \"name\": \"anh\",\r\n    \"birthday\": \"1999-09-28T17:00:00.000Z\"\r\n}\r\n\r\nexport default function EditProfile(props: any) {\r\n    const { navigate } = useNavigation();\r\n    const { navigation, route } = props;\r\n    const { getParam, goBack } = navigation;\r\n    const userProdfile = getParam('userProfile');\r\n    const avatar = getParam('avatar');\r\n    const [date, setDate] = useState(new Date(userProdfile.birthday));\r\n    const [show, setShow] = useState(false);\r\n    const [name, setName] = useState(userProdfile.name);\r\n    const [nickName, setNickName] = useState(userProdfile.user_name);\r\n    const [phone, setPhone] = useState(userProdfile.phone);\r\n    const [image, setImage] = useState(avatar);\r\n    const [isLoading, setIsLoading] = useState<boolean>(true);\r\n\r\n    useEffect(() => {\r\n    }, [])\r\n\r\n    const onChange = (event: any, selectedDate: Date) => {\r\n        selectedDate = selectedDate || date;\r\n        setShow(Platform.OS === 'ios');\r\n        setDate(selectedDate);\r\n    };\r\n\r\n    const showMode = (currentMode: any) => {\r\n        setShow(true);\r\n    };\r\n\r\n    const showDatepicker = () => {\r\n        showMode('date');\r\n        setDate(date);\r\n    };\r\n\r\n    let getImg = async () => {\r\n        let result = await ImagePicker.launchImageLibraryAsync({\r\n            mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n            allowsEditing: true,\r\n            aspect: [3, 3],\r\n            quality: 1,\r\n        });\r\n\r\n        if (!result.cancelled) {\r\n            setImage(result.uri);\r\n        }\r\n    };\r\n\r\n    const save = () => {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data;'\r\n            }\r\n        };\r\n        var data = new FormData();\r\n        data.append('file',\r\n            {\r\n                uri: image,\r\n                name: 'userProfile.jpg',\r\n                type: 'image/jpg'\r\n            });\r\n\r\n        axios.post(`${cansa[0]}/api/image/update/${userProdfile.user_avatar}/e4611a028c71342a5b083d2cbf59c494`, data, config).then((resp) => {\r\n            const avatar_user = resp.data.data.image_id;\r\n            const link = `/api/user/update/profile/${name}/${phone}/${moment.utc(date).format('YYYY-MM-DD')}`;\r\n            axios.get(`${cansa[1]}${link}`).then((res) => {\r\n                const link = `/api/user/update/user/${userProdfile.user_key}/${nickName}/${avatar_user}/${userProdfile.user_status}`;\r\n                axios.get(`${cansa[1]}${link}`).then((res) => {\r\n                   \r\n                    Alert.alert(\r\n                        \"Thông báo!\",\r\n                        res.data.message,\r\n                        [\r\n                            { text: \"OK\" }\r\n                        ]\r\n                    );\r\n                })\r\n            })\r\n        })\r\n    }\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <View>\r\n                <View>\r\n                    <HeaderTitle title={'EDIT PROFILE'} />\r\n                    <View style={styles.header}>\r\n                        <TouchableOpacity>\r\n                            <MaterialIcons name=\"arrow-back\" size={35} color=\"white\" onPress={() => navigation.goBack()} />\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                </View>\r\n\r\n                <View style={styles.viewAvatar}>\r\n                    <Avatar\r\n                        containerStyle={{ marginBottom: 20 }}\r\n                        rounded\r\n                        size={200}\r\n                        source={{\r\n                            uri: image,\r\n                        }}\r\n                        onPress={getImg}\r\n                    >\r\n                        <Accessory style={{\r\n                            borderWidth: 2,\r\n                            borderColor: \"#444\",\r\n                            backgroundColor: COLORS.primary\r\n                        }} size={50}></Accessory>\r\n                    </Avatar>\r\n                </View>\r\n\r\n                <View style={styles.viewTxt}>\r\n                    <Input\r\n                        value={name}\r\n                        label=\"Họ và Tên\"\r\n                        onChangeText={setName}\r\n                    />\r\n\r\n                    <Input\r\n                        value={nickName}\r\n                        label=\"Nick Name\"\r\n                        onChangeText={setNickName}\r\n                    />\r\n\r\n                    <Input\r\n                        value={phone}\r\n                        keyboardType='numeric'\r\n                        label=\"Số điện thoại\"\r\n                        onChangeText={setPhone}\r\n                    />\r\n                    <View style={styles.txtContainer}>\r\n                        <Text style={styles.txtTitle}>Ngày sinh: {moment.utc(date).format('DD/MM/YYYY')}</Text>\r\n                        <Button onPress={showDatepicker}\r\n                            buttonStyle={{\r\n                                backgroundColor: COLORS.primary,\r\n                            }}\r\n                            title={\r\n                                <FontAwesomeIcon color=\"white\" size={20} icon={faCalendarAlt} />\r\n                            } >\r\n                        </Button>\r\n                        {show && (\r\n                            <DateTimePicker\r\n                                testID=\"dateTimePicker\"\r\n                                value={date}\r\n                                mode={'date'}\r\n                                onChange={onChange}\r\n                            />\r\n                        )}\r\n                    </View>\r\n                    <View style={{ justifyContent: 'center', alignItems: 'center', marginTop: 25, marginBottom: 8 }}>\r\n                        <TouchableOpacity onPress={() => {\r\n                            save();\r\n                        }}>\r\n                            <Text style={styles.btnBuy}>Lưu</Text>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                </View>\r\n            </View>\r\n        </View>\r\n    )\r\n\r\n}\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: '#E5E5E5',\r\n    },\r\n    viewAvatar: {\r\n        backgroundColor: '#fff',\r\n        justifyContent: 'flex-start',\r\n        alignItems: 'center',\r\n        paddingTop: 20,\r\n        borderBottomWidth: 1,\r\n        borderBottomColor: '#ccc',\r\n        shadowColor: \"#000\",\r\n        shadowOffset: {\r\n            width: 0,\r\n            height: 3,\r\n        },\r\n        shadowOpacity: 0.29,\r\n        shadowRadius: 4.65,\r\n        elevation: 7,\r\n        marginHorizontal: 5\r\n    },\r\n    btnBuy: {\r\n        backgroundColor: '#00FF7F',\r\n        padding: 7,\r\n        width: 150,\r\n        borderRadius: 20,\r\n        marginBottom: 10,\r\n        fontSize: 18,\r\n        textAlign: 'center',\r\n        fontWeight: '700',\r\n        color: '#222'\r\n    },\r\n    header: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        padding: 5,\r\n        position: 'absolute',\r\n        top: 33,\r\n        left: 5,\r\n        right: 0,\r\n        zIndex: 2\r\n    },\r\n    viewTxt: {\r\n        paddingTop: 5,\r\n        marginTop: 3,\r\n        backgroundColor: '#fff',\r\n        shadowColor: \"#000\",\r\n        shadowOffset: {\r\n            width: 0,\r\n            height: 3,\r\n        },\r\n        shadowOpacity: 0.29,\r\n        shadowRadius: 4.65,\r\n        elevation: 7,\r\n        marginHorizontal: 5\r\n    },\r\n    txtContainer: {\r\n        flexDirection: 'row',\r\n        marginHorizontal: 10,\r\n        alignItems: 'center'\r\n    },\r\n    txtTitle: {\r\n        fontSize: 20,\r\n        color: '#111',\r\n        marginRight: 20,\r\n    },\r\n    resetPassContainer: {\r\n        borderTopColor: '#ddd',\r\n        borderTopWidth: 2,\r\n        margin: 10,\r\n        marginHorizontal: 10\r\n    },\r\n    touchReset: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        marginTop: 10\r\n    }\r\n\r\n});"]},"metadata":{},"sourceType":"module"}